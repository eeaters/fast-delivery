<template>
  <div class="dataVisualize-box">
    <div class="card top-box">
      <div class="top-title">配送数据可视化</div>
      <el-tabs v-model="tabActive" class="demo-tabs" @tab-change="changeDashboard">
        <el-tab-pane v-for="item in tab" :key="item.name" :label="item.label" :name="item.name"></el-tab-pane>
      </el-tabs>
      <div class="top-content">
        <el-row :gutter="40">
          <el-col class="mb40" :xs="24" :sm="24" :md="24" :lg="10" :xl="10">
            <div class="item-right">
              <div class="echarts-title">配送完成 / 配送取消 占比</div>
              <div class="book-echarts">
                <v-chart class="chart" :option="option" autoresize style="height: 400px"/>
              </div>
            </div>
          </el-col>

          <el-col class="mb40" :xs="24" :sm="12" :md="12" :lg="8" :xl="8">
            <div class="item-center">


              <div class="traffic-box" v-for="item in dashboardInfo?.subChannels">
                <div class="traffic-img">
                  <template v-if="item.channel == 'meituan'">
                    <svg t="1696260643076" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2794" width="128" height="128"><path d="M969.216 444.5696c0-59.904-63.9488-76.0832-97.5872-87.5008-33.6384-11.4688-199.7824-72.8576-199.7824-72.8576s-113.6128-185.2928-215.6032-115.6096c-24.7296 15.6672-20.6848 72.192 13.6192 95.9488C422.4 255.9488 344.1152 273.664 348.16 318.5664c4.0448 44.9536 66.1504 68.1472 176.2304 49.4592 19.2-4.0448 45.9264 10.0864 13.6192 37.376-17.152 12.1344-91.904 32.8192-255.488 3.5328-116.4288-20.8384-184.7296-36.5568-214.4768-43.8784-4.9152 28.4672-7.5264 57.7536-7.5264 87.6544 0 169.6256 82.5856 319.9488 209.7664 413.0304 24.9344-7.424 51.0464-17.1008 77.824-29.6448 68.6592-32.3072 48.4864-65.6384 32.3072-77.2608s-48.4864-57.5488 41.9328-111.5648 202.8032-102.3488 336.7424-119.1424c43.0592-6.0416 94.9248-6.7072 119.808-8.0896 25.0368-1.4336 90.3168-15.5648 90.3168-75.4688z m-295.5264-47.4624c-18.0224 0-32.6656-14.592-32.6656-32.6656s14.592-32.6656 32.6656-32.6656c18.0224 0 32.6656 14.592 32.6656 32.6656s-14.592 32.6656-32.6656 32.6656z" fill="#FF8E12" p-id="2795"></path><path d="M671.8464 284.16s-113.6128-185.2928-215.6032-115.6096c-24.7296 15.6672-20.6848 72.192 13.6192 95.9488C422.4 255.8976 344.1152 273.6128 348.16 318.5152c4.0448 44.9536 66.1504 68.1472 176.2304 49.4592 19.2-4.0448 45.9264 10.0864 13.6192 37.376-17.152 12.1344-91.904 32.8192-255.488 3.5328-116.4288-20.8384-184.7296-36.5568-214.4768-43.8784-4.9152 28.4672-7.5264 57.7536-7.5264 87.6544 0 118.4256 40.2944 227.3792 107.8272 314.0608a483.84 483.84 0 0 0 185.9072 36.9664c12.6464 0 25.1904-0.6144 37.5808-1.5872 11.008-19.4048-1.024-35.84-11.4176-43.3152-16.1792-11.6224-48.4864-57.5488 41.9328-111.5648s202.8032-102.3488 336.7424-119.1424c11.1616-1.5872 22.8864-2.7648 34.56-3.7376a482.02752 482.02752 0 0 0 45.0048-178.944c-59.4432-21.504-166.8096-61.2352-166.8096-61.2352z m1.8432 112.9472c-18.0224 0-32.6656-14.592-32.6656-32.6656s14.592-32.6656 32.6656-32.6656c18.0224 0 32.6656 14.592 32.6656 32.6656s-14.592 32.6656-32.6656 32.6656z" fill="#FCA315" p-id="2796"></path><path d="M456.2432 168.5504c-24.7296 15.6672-20.6848 72.192 13.6192 95.9488C422.4 255.8976 344.1152 273.6128 348.16 318.5152c4.0448 44.9536 66.1504 68.1472 176.2304 49.4592 19.2-4.0448 45.9264 10.0864 13.6192 37.376-17.152 12.1344-91.904 32.8192-255.488 3.5328-116.4288-20.8384-184.7296-36.5568-214.4768-43.8784-4.9152 28.4672-7.5264 57.7536-7.5264 87.6544 0 55.6544 8.96 109.2096 25.3952 159.3344a485.90336 485.90336 0 0 0 135.6288 19.3536c182.528 0 341.4528-100.864 424.2944-249.8048a32.3584 32.3584 0 0 1-4.864-17.1008c0-16.7424 12.5952-30.5152 28.8256-32.4096 5.7856-13.9776 11.008-28.2624 15.5136-42.8544-8.448-3.1232-13.5168-5.0176-13.5168-5.0176s-113.5616-185.2928-215.552-115.6096z" fill="#FCB138" p-id="2797"></path><path d="M282.5728 408.8832c-116.4288-20.8384-184.7296-36.5568-214.4768-43.8784-4.9152 28.4672-7.5264 57.7536-7.5264 87.6544 0 1.792 0.0512 3.5328 0.1024 5.3248 12.8512 1.024 25.7536 1.6896 38.8608 1.6896 74.3424 0 144.6912-16.7424 207.6672-46.6432-7.936-1.28-16.128-2.6112-24.6272-4.1472zM469.9136 264.4992c-47.4624-8.6016-125.7472 9.1136-121.7024 54.016 1.8432 20.3264 15.5648 36.1984 40.2432 45.7728 69.4272-51.5072 124.5696-121.088 158.5664-201.8304-29.0816-12.8-60.416-14.592-90.7264 6.0928-24.7808 15.6672-20.736 72.192 13.6192 95.9488z" fill="#FFC65E" p-id="2798"></path></svg>
                  </template>
                  <template v-if="item.channel == 'fengniao'">
                    <svg t="1696260944337" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5059" width="128" height="128"><path d="M725.333333 128a170.666667 170.666667 0 0 1 170.666667 170.666667v426.666666a170.666667 170.666667 0 0 1-170.666667 170.666667H298.666667a170.666667 170.666667 0 0 1-170.666667-170.666667V298.666667a170.666667 170.666667 0 0 1 170.666667-170.666667h426.666666z m-94.72 308.330667H192c0.277333 1.984 3.264 18.368 24.426667 21.44 44.842667 6.528 110.144 14.101333 153.856 40.533333 39.146667 23.68 56.064 59.072 47.04 114.730667C410.837333 652.928 393.813333 704 393.813333 704c87.850667 0 161.493333-69.44 193.002667-150.272a5850.56 5850.56 0 0 0 43.776-117.397333zM832 320h-199.893333l-5.866667 0.085333c-66.154667 2.005333-127.296 37.76-146.304 97.472h155.093333l1.194667-3.072c0.746667-1.898667 1.429333-3.541333 2.24-5.333333 21.482667-48.618667 59.157333-70.208 114.389333-75.349333 23.466667-2.176 45.994667-3.733333 59.989334-5.013334 10.346667-0.938667 17.28-1.813333 19.157333-8.789333z" fill="#1296db" p-id="5060"></path></svg>
                  </template>
                  <template v-if="item.channel == 'shunfeng'">
                    <svg t="1696261020234" class="icon" viewBox="0 0 3840 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8585" width="128" height="128"><path d="M638.8992 14.2592c-36.4288 6.5536-79.0528 20.2752-79.0528 20.2752s9.2928 35.6352-183.1424 120.6272c216.6272-60.3392 253.952-97.3056 271.0528-113.792 17.152-16.4864 12.288-30.8992-8.8576-27.1104" fill="#FFAE33" p-id="8586"></path><path d="M403.072 212.0448c17.6128 57.728 77.3888 89.856 133.504 71.7312 56.1408-18.1248 87.3472-79.616 69.7344-137.3184l-11.7248-38.4512c-97.6896 39.2192-97.6896 39.2192-202.24 68.8128l10.7264 35.2256zM398.2592 155.1616c205.7216-52.3264 171.776-118.0672 171.776-118.0672-19.072-30.1312-61.7984-38.7072-103.7056-24.8576-55.6288 18.3808-86.5792 80.7936-69.12 139.392l1.024 3.5328z" fill="#317DFB" p-id="8587"></path><path d="M975.2832 685.9008a29.6704 29.6704 0 0 0-11.0336-11.6224c-7.6032-4.3776-16.0512-5.12-24.2176-2.4064l-69.1456 22.7328c-11.4944 2.2272-14.72-7.424-14.72-7.424a261.7344 261.7344 0 0 0-215.7824-160.5632 17.024 17.024 0 0 1-15.2064-18.176c2.2016-27.264 4.3776-60.8768 5.12-79.872a37.4272 37.4272 0 0 1 25.5488-34.5856 235.904 235.904 0 0 0 156.2624-212.1216 26.368 26.368 0 1 0-51.2768-9.0112c-35.3024 89.088-96.5632 140.7744-198.5792 142.08 0 0-114.56 0.0256-173.9008 5.0688-90.7264 7.68-171.5712 57.5232-218.624 140.6976-9.6256 16.9984-3.584 34.3808 8.7552 42.368 17.8688 11.5712 34.8416 3.9424 43.904-7.0656 24.0384-29.2352 79.872-80.7168 132.608-80.7168 19.6608 0 28.5952-0.256 28.5952-0.256 14.9504 0 21.4272 13.824 20.864 21.2992l-7.68 101.6832a123.1104 123.1104 0 0 1-122.7008 115.0208c-39.936 0-75.648-17.7664-98.8928-46.3872a19.5072 19.5072 0 0 0-32.9216 4.4288l-52.352 123.9552a25.856 25.856 0 0 0-1.6128 17.6384c2.304 8.832 9.728 16.4096 18.8672 18.7136 10.2912 2.56 19.7888-0.768 26.0096-7.424l27.0336-29.8752c2.048-2.1248 3.84-3.584 7.9616-3.584 2.5344 0 5.248 1.7408 7.168 2.7392 33.024 16.896 66.1504 27.1104 105.8304 27.1104 64.1536 0 113.1776-17.9712 166.8352-64.0768 41.344-35.5072 86.272-53.12 140.8512-53.12 104.2432 0 188.3648 74.7008 207.3088 166.7072a16.256 16.256 0 0 0 24.0384 11.5456c2.7648-1.4848 145.0752-97.792 145.0752-97.792 11.264-7.5264 17.792-23.296 10.0096-37.7088" fill="#317DFB" p-id="8588"></path><path d="M1009.0752 886.6304l-30.976-78.9504-0.256-0.6144a11.904 11.904 0 0 0-10.6496-7.168 13.056 13.056 0 0 0-5.248 1.1776C676.6592 923.648 283.2384 934.2464 51.2 819.712a11.8528 11.8528 0 0 0-15.488 6.4l-17.664 38.0672a12.6976 12.6976 0 0 0 4.5312 15.4624c381.952 236.1856 800.5376 100.1472 980.0192 23.0656l0.3584-0.1536a12.3904 12.3904 0 0 0 6.9632-11.1104 12.7744 12.7744 0 0 0-0.8704-4.7872M1470.976 491.8016z m-13.2096 25.9072z m-56.8832 187.8016c22.9376-27.7504 63.744-77.824 79.488-101.5552v-0.0512a7904.9216 7904.9216 0 0 1 54.144-80.128l0.7424-1.4848 125.2352 183.2192v0.0256h77.056l-170.3936-253.0048 3.968-38.6048h167.2704l6.4512-65.6384V348.16H1577.216l14.1312-137.8816v-0.1024h-61.4144l-5.3504 48.6656c-0.0256 0.4608-7.296 62.3616-10.0608 85.6576l-0.4352 3.6608h-151.2448l-5.8112 65.6384v0.1024h145.4592l-0.2048 1.2032c-0.128 0.7168-7.6032 24.0384-21.5808 55.552-13.056 29.4656-34.944 73.1904-64.9728 113.9712a3717.2992 3717.2992 0 0 1-92.928 120.7296l-0.128 0.1536h78.1824l0.0256-0.0256z" fill="#317DFB" p-id="8589"></path><path d="M1282.2528 743.808a17.5104 17.5104 0 0 1-3.84-13.312l41.3952-331.52v-0.0768h-99.584l-6.9888 65.8688v0.1024h41.3696l-0.1536 1.152L1216 775.0912c-1.28 10.2144 1.6896 20.5312 8.1408 28.288 6.4256 7.7824 15.7184 12.2368 25.472 12.2368h519.2448l7.2704-65.8688v-0.1024l-481.8944-0.0768a15.5136 15.5136 0 0 1-11.9552-5.76M1269.9136 351.744l52.6592-0.1024h0.1024l-22.272-125.6192v-0.0768h-55.9104l25.4208 125.696zM2158.976 491.776z m-13.2352 25.9328z m-56.8576 187.8016c22.912-27.7504 63.744-77.824 79.4624-101.5552l0.0256-0.0512c14.9504-22.5536 36.992-54.912 47.5648-70.4768 4.5056-6.6048 6.5024-9.5232 6.5536-9.6512l0.768-1.4848 125.2096 183.2192 0.0256 0.0256h77.056l-170.4192-253.0048 3.968-38.6048h167.2704l6.4512-65.6384v-0.1024h-167.6032l14.1056-137.8816v-0.1024h-61.3888l-5.376 48.6912c0 0.4352-7.296 62.336-10.0352 85.632l-0.4352 3.6608h-151.2448l-5.8112 65.6384v0.1024h145.408l-0.1792 1.2032c-0.128 0.7168-7.6032 24.0384-21.5552 55.552-13.056 29.4656-34.944 73.1904-64.9984 113.9712a3746.432 3746.432 0 0 1-92.928 120.7552l-0.128 0.128h78.208v-0.0256z" fill="#317DFB" p-id="8590"></path><path d="M1962.4192 743.808a17.5104 17.5104 0 0 1-3.84-13.312l41.3952-331.52v-0.0768h-99.584l-6.9888 65.8688v0.1024h41.3696l-0.1536 1.152-38.4768 309.0688c-1.28 10.2144 1.6896 20.5312 8.1408 28.288 6.4256 7.7824 15.7184 12.2368 25.472 12.2368h519.2448l7.2704-65.8688v-0.1024l-481.8944-0.0768a15.5136 15.5136 0 0 1-11.9552-5.76M1942.272 351.744l52.6592-0.1024h0.0768l-22.2464-125.6192v-0.0768h-55.9104l25.3952 125.696zM2784.64 351.744h-54.2208l-16.128 125.696 54.6816 0.1024zM2668.4672 210.2016l-79.2832 597.5552h61.1328l79.616-597.5552zM2636.0832 320.2816h-51.6864l-26.4704 212.2752h51.5328zM2956.6208 587.5968l111.7696 220.16h83.712l-121.728-220.16z" fill="#317DFB" p-id="8591"></path><path d="M3033.7024 482.304h-84.9152l17.3568-125.312h85.2736l-17.7152 125.312z m109.9776 7.04l0.5888-7.04h-48.6912l24.9344-190.1568h-145.024l11.8272-81.92h-61.5424l-11.7248 81.92h-93.1072l-4.096 35.9168-2.7136 28.928h89.2672l-22.7584 125.312h-113.3568l-1.9968 17.4848-4.4544 47.36h107.9552l-15.2576 38.656-43.904 90.1888-71.9104 131.7632h79.36l65.5104-126.9248 41.728-93.6192 13.6448-40.064h199.168l6.5536-57.8048zM3326.9248 743.0912a15.7696 15.7696 0 0 1-12.032-5.6576 17.0752 17.0752 0 0 1-3.8656-13.1328l41.4464-325.376h-99.584l-6.9888 64.5632h41.4464l-0.1792 1.2288-38.528 303.36c-1.28 9.984 1.6896 20.096 8.1408 27.6992 6.4256 7.6032 15.6928 11.9808 25.4208 11.9808h519.936l6.656-64.5888-481.8688-0.0768zM3355.3408 351.6416l-22.272-125.696h-55.9104l25.472 125.7984z" fill="#317DFB" p-id="8592"></path><path d="M3363.1744 705.536h79.4624c22.912-27.9552 62.976-80 78.8992-101.6832 0 0 52.1216-76.0064 52.3264-76.416l0.8448-1.792 133.1968 179.8912h76.2624l-134.8864-191.8464h136.7296l7.168-65.6384h-186.368l0.1024-0.7168 12.4928-93.184h157.7984l7.2192-65.6128h-63.744l15.616-78.336h-54.528l-13.6448 78.336h-125.7216l-14.1568-78.336h-54.528l16.128 78.336h-63.9232l-7.1424 64.8192-0.0768 0.7936h136.192l-13.1072 59.52a900.2752 900.2752 0 0 1-9.216 34.3808h-143.6928l-6.2208 65.6384h116.5824c-13.056 23.8848-28.5696 50.1504-43.8016 71.0144a3708.416 3708.416 0 0 1-92.2624 120.832" fill="#317DFB" p-id="8593"></path></svg>
                  </template>
                <template v-if="item.channel == 'dada'">
                  <svg t="1696260995686" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7302" width="128" height="128"><path d="M145.513302 112.916548c199.983898-142.588519 506.659205-158.387247 733.840913 0.199984l-22.298205 17.398599c-22.098221 17.298607-44.196441 34.697206-66.294662 52.29579-3.199742 2.799775-7.999356 2.799775-11.199098 0-144.088398-81.493438-317.474438-92.792529-470.96208-30.697529-22.498189 9.099267-43.796474 20.898317-65.794702 31.397472-2.299815 0.899928-4.799614 0.899928-7.099428 0-30.197569-23.198132-60.195153-46.69624-89.992754-69.79438 0.099992 0.199984 0-0.299976-0.199984-0.799936zM113.015918 878.954869c-150.687867-221.482167-150.687867-512.458738 0-733.940905l26.497867 33.797279c14.498833 18.498511 28.797681 36.997021 43.196522 55.295547 2.799775 2.599791 3.199742 6.899444 0.899927 9.899203-82.09339 144.388374-93.39248 318.474357-30.597536 472.261975 9.099267 21.998229 20.598341 42.896546 30.79752 64.394815 0.999919 2.399807 0.999919 4.999597 0 7.299412-23.498108 30.297561-46.69624 60.295145-70.7943 90.992674zM879.154231 911.652236c-91.992593 62.59496-198.58401 100.291925-309.37509 109.691168-150.287899 13.598905-300.67579-25.297963-425.665727-110.091136l93.692457-72.894131c23.5981 10.999114 46.096288 22.798164 69.79438 32.597376 76.493841 31.497464 159.287175 44.696401 241.780532 38.696884 81.59343-5.299573 160.987038-29.197649 231.981322-69.79438 2.299815-1.199903 4.899605-1.199903 7.19942 0 29.797601 22.798164 59.295226 45.996296 88.992835 69.79438 0.49996 0.599952 1.099911 1.299895 1.599871 1.999839z m32.397391-767.138232c150.287899 221.982127 150.287899 513.05869 0 735.040816l-44.796393-57.195394-24.997987-31.597456c-3.09975-2.899767-3.59971-7.69938-1.199904-11.199099 51.195878-90.092746 75.393929-193.084453 69.794381-296.57612-4.09967-83.09331-27.597778-164.18678-68.694469-236.580951-3.399726-4.399646-2.899767-10.699139 1.099911-14.598825 21.398277-26.997826 42.59657-54.295628 63.694872-81.493438l5.099589-5.799533z m-441.964414 260.878995c-21.698253-19.898398-48.696079-32.997343-77.793736-37.796957-23.09814-5.299573-47.296192-3.999678-69.79438 3.799694-17.898559 5.699541-29.397633 22.998148-27.597778 41.696643 0.099992 11.399082 6.199501 21.898237 15.998711 27.797762 17.498591 10.79913 34.89719 20.898317 52.29579 30.197568 31.997424 15.198776 61.395057 35.297158 87.192979 59.49521 49.296031 50.995894 51.195878 131.389421 4.399646 184.685129-21.698253 23.898076-51.595846 38.796876-83.693261 41.696643-54.695596 6.899444-110.091136-6.299493-155.787457-37.296997-5.599549-2.999758-8.899283-8.999275-8.399323-15.39876v-88.992835c8.399324 7.899364 15.89872 15.998712 24.298043 22.998149 31.79744 27.797762 73.294099 42.09661 115.390709 39.896787 20.298366 0.999919 39.096852-10.399163 47.496176-28.897673 12.598986-23.998068 5.899525-53.595685-15.698736-69.79438-20.698333-15.598744-43.396506-28.497705-67.294582-38.496901-26.097899-11.099106-49.995974-26.497866-70.794299-45.69632-43.496498-44.796393-44.196441-115.790677-1.599872-161.486998 24.798003-25.797923 58.195314-41.596651 93.89244-44.296433 41.796635-5.699541 84.293213 1.299895 122.09017 20.098382 11.29909 3.899686 18.198535 15.298768 16.598663 27.19781-1.699863 20.398358 0 40.996699 0 61.59504l-1.199903 6.999437z m154.187585 354.771434h-87.192979V323.399601c-0.599952-4.699622 2.499799-8.999275 7.099428-9.899203 52.595765-19.698414 108.491265-28.997665 164.68674-27.497786 34.89719 0.899928 69.094437 9.699219 99.991949 25.797923 6.099509 2.599791 9.799211 8.799292 9.199259 15.298768v75.193945h-2.59979c-40.896707-27.69777-90.492714-39.49682-139.488769-33.297319-15.39876 2.099831-30.597536 4.999597-45.696321 8.6993-6.199501 1.199903-6.599469 5.099589-6.599468 10.299171v360.570967l0.599951 11.599066z" p-id="7303"></path><path d="M722.366855 575.479304c-28.897673 0.099992-52.395781-23.198132-52.495773-52.095806 0-1.599871 0.099992-3.199742 0.199984-4.699621 1.799855-27.797762 24.498027-49.695999 52.295789-50.395942 29.397633-0.299976 53.395701 23.298124 53.695676 52.695757v0.899927c-0.099992 29.497625-24.09806 53.495693-53.695676 53.595685z" p-id="7304"></path></svg>
                  </template>
                <template v-if="item.channel == 'shansong'">
                  <svg t="1696266040488" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2643" width="128" height="128"><path d="M511.5904 509.44m-460.8 0a460.8 460.8 0 1 0 921.6 0 460.8 460.8 0 1 0-921.6 0Z" fill="#434341" p-id="2644"></path><path d="M511.5904 194.56a315.0848 315.0848 0 1 0 315.0848 314.88A315.0336 315.0336 0 0 0 511.5904 194.56zM419.84 691.456l66.2528-158.72h-98.304l48.8448-184.8832h140.3904L505.4976 450.56h129.9456z" fill="#FBD180" p-id="2645"></path></svg>
                  </template>
                  <template v-if="item.channel == 'uu'">
                    <img class="XNo5Ab" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADF0lEQVR4AcXXA6w1SReF4af6mmPzt42xbdu2FQzijG3btm3bxmfr8tQez0luusd4k9VcO7XLqQQQV5sTB2BVzInCj0vGMNyIw9LahkGCuMqCuAkz+nkYh1XSOh5NcaXZ8Qqm9/MyAX8qhIOE6QU/s6YXDiqEVQW/kFZtlM2uGhKifodv5fetYmYvBJWCKW10rkHj4vTAN/nRtiJtKzEFENVqlJWTMLmRNR+ht5f2GXnrEl46hBblTMOSl9Pxe6BnG+5el3aVNArlBGb4P/fuz5jbyYk/7o0OTCVKEm77Fa/exPvrA/NuTtuv8TahlBTn60OzMmpowAAaECiQlJORUAPqMaror+4CgNpv+cfmTBvPS6fTPpWsmr45+PvWwHNn0jKy2o8U51S3gIHZ2ewFmlqBjx7lhuXoUM60ZjZ+ma7ZgMkjuPivtPdVtkAhU6oaZlmIpjZy7+eaayEaOlXGtP+B7jnq/u45af8jWaWquwByBmTAILkglA/CbIgfEeV+8E0JgHo0QSBXJFBU+b9vAhkQUb/XVCcgCOp+5Lr/u68Decgyl4JIKpOOxNAWyEGG79MC/b0IZCA1UUxHTCxvgdYZkZEBGOwDQimFoFJTx9SbNIKcmfmf1LuBQEYf5vsvMVD3G6BvTN1bouppGJj8Jgbq7tokFt+PMTB0E+riPztTm4pAMGkUPeMI5HJVt0BGzySGvYB6FczyGza7ifgv0zrpmY7GJdjuXlpbAEEqeP9+oIYoV4qjVa+EgXnWZ62TqU0BIBU0dJH7kEjN1CYCIGickdOWpv8pQvVKKKgUvHQ5w15EoT4WagxMoNZDbRqDE4ioSzPPXcKYp8iIahWCaqEb56zD2BE0tBK52hyZhg7efoxrd6cTQbVIcUR1FwBImNDM/3dnoS2Zfg6kIZ7MyHe5/3hePp/pkX0T/d8uAUjoR0+i83fMOB/t3UQwZQLj32Lqe3SiAeCHJVDN0AUvISF8V/oLjPCdKCkYwvdhRIEb/XLcmOKIX/holvYzgrQSaRzJz6RxpJU+LTsBxBHFz3s83y8Pg48BcEYKP7Vw0eUAAAAASUVORK5CYII=" style="height:64px;width:64px" alt="" data-atf="1" data-frt="0">
                  </template>
                </div>
                <span class="item-value">{{ item.completeNum }} - {{ item.cancelNum }} </span>
                <span class="traffic-name sle">完成 - 取消</span>
              </div>

            </div>



          </el-col>

        </el-row>
      </div>
    </div>

  </div>
</template>

<script setup lang="ts" name="dataVisualize">
import {onMounted, ref} from "vue";
import VChart from "vue-echarts";

import { use } from 'echarts/core';
import { CanvasRenderer } from 'echarts/renderers';
import { PieChart } from 'echarts/charts';
import {
  TitleComponent,
  TooltipComponent,
  LegendComponent,
} from 'echarts/components';
import {dashboard} from "@/api/dashboard";

use([
  CanvasRenderer,
  PieChart,
  TitleComponent,
  TooltipComponent,
  LegendComponent,
]);


const tabActive = ref(1);
const dashboardInfo = ref<DashboardInfo>();

const tab = [
  { label: "今天", name: 1 },
  { label: "本周", name: 2 },
  { label: "本月", name: 3 },
  { label: "近三月", name: 4 },
];

let completeNum = ref<number>(100);
let ongoingNum = ref<number>(5);
let cancelNum = ref<number>(20);

const getDashboardInfo = async () => {
  dashboardInfo.value = await dashboard(tabActive.value);
  completeNum.value = <number>dashboardInfo.value?.all.completeNum;
  ongoingNum.value = <number>dashboardInfo.value?.all.ongoingNum;
  cancelNum.value = <number>dashboardInfo.value?.all.cancelNum;
};


const option = ref({
  tooltip: {
    trigger: 'item',
  },
  legend: {
    top: "4%",
    left: "2%",
    orient: "vertical",
    icon: "circle", //图例形状
    align: "left",
    itemGap: 20,
    textStyle: {
      fontSize: 13,
      color: "#a1a1a1",
      fontWeight: 500
    },
  },
  label: {
    position: "outside",
    show: true,
    formatter: "{d}%",
    fontWeight: 400,
    fontSize: 19,
    color: "#a1a1a1"
  },
  series: [
    {
      name: '配送占比',
      type: 'pie',
      radius: '55%',
      center: ['50%', '60%'],
      data: [
        { value: completeNum, name: '配送完成' },
        { value: ongoingNum, name: '配送进行中' },
        { value: cancelNum, name: '配送取消' },
      ],

      emphasis: {
        itemStyle: {
          shadowBlur: 8,
          shadowOffsetX: 0,
          shadowColor: 'rgba(0, 0, 0, 0.7)',
        },
      },
    },
  ],

});


onMounted(async () => {
  await getDashboardInfo();
});

const changeDashboard = async (name)=>{
  await getDashboardInfo();
}
</script>

<style scoped lang="scss">
@import "./index.scss";
</style>
